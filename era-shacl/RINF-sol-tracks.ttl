@prefix era-sh: <http://data.europa.eu/949/shapes/> .
@prefix ex: <http://example.org/> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix era: <http://data.europa.eu/949/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix wgs: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix geosparql: <http://www.opengis.net/ont/geosparql#> .

####################################
# Rules for Sections of Line - tracks
####################################

era-sh:SectionOfLineShape  
    a sh:NodeShape ;
    sh:targetClass era:SectionOfLine .

era-sh:RunningTrackShape  
    a sh:NodeShape ;
    sh:targetClass era:RunningTrack .

era-sh:CommonCharacteristicsSubsetShape
	a sh:NodeShape ;
	sh:targetClass era:CommonCharacteristicsSubset .  

era-sh:LoadCapabilityShape  
    a sh:NodeShape ;
    sh:targetClass era:LoadCapability .

era-sh:RaisedPantographsDistanceAndSpeedShape
    a sh:NodeShape ;
    sh:targetClass era:RaisedPantographsDistanceAndSpeed .

era-sh:PhaseInfoShape
    a sh:NodeShape ;
    sh:targetClass era:PhaseInfo .

era-sh:SystemSeparationInfoShape
    a sh:NodeShape ;
    sh:targetClass era:SystemSeparationInfo .



era-sh:LinesideDistanceIndicationShape
    a sh:NodeShape ;
    sh:targetClass era:LinesideDistanceIndication .




# trackId: # 1.1.1.0.0.1  
era-sh:SectionOfLineShape sh:sparql era-sh:NoRepeatedTrackIdsSoL.
era-sh:NoRepeatedTrackIdsSoL 
    a sh:SPARQLConstraint ; 
    era:affectedProperty era:trackId;
    era:affectedClass  era:SectionOfLine;
    era:affectedClass  era:RunningTrack;
    era:scope "global";
    rdfs:comment "Each track shall have unique identification or number within the SoL. This number cannot be used for naming any other track in the same SoL."@en ;
    era:rinfIndex "1.1.1.0.0.1" ;
    sh:severity sh:Violation ;
    sh:message "trackId (1.1.1.0.0.1): Each track shall have unique identification or number within the SoL. This number cannot be used for naming any other track in the same SoL. There is a problem with SoL {$this} ({?solLabel}) and tracks {?track1} ({?track1Label}) and {?track2} ({?track2Label}), since they have the same identifier: {?value}."@en ;
    sh:prefixes era:;
    sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?solLabel ?track1 ?track1Label ?track2 ?track2Label ?value
			WHERE {
                $this era:hasPart ?track1 .
                $this era:hasPart ?track2 .
                ?track1 era:trackId ?value .
                ?track2 era:trackId ?value .
                FILTER(?track1 != ?track2) . 
				OPTIONAL{$this rdfs:label ?solLabel} .
				OPTIONAL{?track1 rdfs:label ?track1Label} .
				OPTIONAL{?track2 rdfs:label ?track2Label} .
			}
			""" .

# 1.1.1.0.0.2 trackDirection
 era-sh:SectionOfLineShape sh:sparql era-sh:SoLTrackDirectionMinCount.
 era-sh:SoLTrackDirectionMinCount 
    a sh:SPARQLConstraint ; 
    era:affectedProperty era:trackDirection;
    era:affectedClass era:RunningTrack;
    era:affectedClass era:SectionOfLine;
    era:scope "local";   
    rdfs:comment "The normal running direction is: 1) the same as the direction defined by the start and end of the SoL 2) the opposite to the direction defined by the start and end of the SoL 3) both directions defined for SoL."@en ;
    era:rinfIndex "1.1.1.0.0.2" ;
    sh:severity sh:Violation ;
     sh:message "There should be at least one Track Direction. There is a problem with SoL {$this} ({?solLabel}) and its track {?track} ({?trackLabel}). This track has no values for this property"@en ;
     sh:prefixes era:;
     sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
     SELECT DISTINCT $this ?solLabel ?track ?trackLabel ?value
	 		WHERE {
                $this era:hasPart ?track .
     			OPTIONAL{?track rdfs:label ?trackLabel} .
	 			OPTIONAL{$this rdfs:label ?solLabel} .
                FILTER NOT EXISTS{?track era:trackDirection ?value} .
   	 		}
	 		""" .
# 1.1.1.0.0.2 trackDirection
era-sh:SectionOfLineShape sh:sparql era-sh:SoLTrackDirectionMaxCount.
era-sh:SoLTrackDirectionMaxCount 
   a sh:SPARQLConstraint ;
   era:affectedProperty era:trackDirection;
    era:affectedClass era:RunningTrack;
    era:affectedClass era:SectionOfLine;
    era:scope "local";   
   rdfs:comment "The normal running direction is: 1) the same as the direction defined by the start and end of the SoL 2) the opposite to the direction defined by the start and end of the SoL 3) both directions defined for SoL."@en ;
   era:rinfIndex "1.1.1.0.0.2" ;
     sh:severity sh:Violation ;
     sh:message "There should be at most one Track Direction. There is a problem with SoL {$this} ({?solLabel}) and its track {?track} ({?trackLabel}). This track has at least two different values for this property: {?value1} and {?value2}"@en ;
     sh:prefixes era:;
     sh:select """
     PREFIX era: <http://data.europa.eu/949/>
     PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
     SELECT DISTINCT $this ?solLabel ?track ?trackLabel ?value1 ?value2
	 		WHERE {
                $this era:hasPart ?track .
     			OPTIONAL{?track rdfs:label ?trackLabel} .
	 			OPTIONAL{$this rdfs:label ?solLabel} .
                ?track era:trackDirection ?value1 .
                 ?track era:trackDirection ?value2 .
                 FILTER(?value1 < ?value2) .
   	 	}
		 	""" .


# trackDirection: # 1.1.1.0.0.2
era-sh:SectionOfLineShape sh:sparql era-sh:TrackDirectionSKOS.
era-sh:TrackDirectionSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:trackDirection;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
    rdfs:comment "The normal running direction is: 1) the same as the direction defined by the start and end of the SoL 2) the opposite to the direction defined by the start and end of the SoL 3) both directions defined for SoL."@en ;
	era:rinfIndex "1.1.1.0.0.2" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the trackDirection (1.1.1.0.0.2):): The track {?track} in the Section of Line {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/track-running-directions/TrackRunningDirections."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:hasPart ?track .
        ?track era:trackDirection ?concept .
        era:trackDirection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .







# tenGISId: # 1.1.1.1.2.1.2
era-sh:RunningTrackShape sh:property era-sh:TenGISId.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TenGISId.
era-sh:TenGISId
	a sh:PropertyShape ; 
    era:affectedProperty era:tenGISId;
    era:affectedClass  era:RunningTrack;
    era:scope "local"; 
	rdfs:comment "Indication of the GIS identity (GIS ID) of the section of TEN-T database to which the track belongs."@en ;
	era:rinfIndex "1.1.1.1.2.1.2" ;
	sh:path era:tenGISId ;
	sh:maxCount 1 ;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "tenGISId (1.1.1.1.2.1.2): The track or subset with common characteristics  must have at most one character string value (GIS Id) of the section of TEN-T database to which the track belongs. This error may be due to having a track with more than one TEN GIS identity or that the value is not a string."@en .

#  1.1.1.1.2.4 trackLoadCapability
era-sh:RunningTrackShapeShape sh:property era-sh:TrackLoadCapability.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TrackLoadCapability.
era-sh:TrackLoadCapability
	a sh:PropertyShape ; era:affectedProperty era:trackLoadCapability  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Relates the track with the class LoadCapability. A combination of the line category and speed at the weakest point of the track."@en ;
	era:rinfIndex "1.1.1.1.2.4" ;
	sh:path era:trackLoadCapability ;
    sh:class era:LoadCapability;
    # sh:node era-sh:LoadCapabilityShape; not implemented in the shacl engine
	sh:severity sh:Violation ;
	sh:message "trackLoadCapability (1.1.1.1.2.4): The track or subset with common characteristics  defines a load capability value that must be an instance of LoadCapability."@en .


# loadCapabilitySpeed: # 1.1.1.1.2.4
 era-sh:LoadCapabilityShape sh:property era-sh:LoadCapabilitySpeed.
 era-sh:LoadCapabilitySpeed
	a sh:PropertyShape ; 
    era:affectedProperty era:loadCapabilitySpeed;
    era:affectedClass  era:LoadCapability;
    era:scope "local";   
	rdfs:comment "Load capability is a combination of the line category and speed at the weakest point of the track.";
	era:rinfIndex "1.1.1.1.2.4" ;
	sh:path era:loadCapabilitySpeed ;	
	sh:datatype xsd:integer ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:severity sh:Violation ;
	sh:message "loadCapabilitySpeed (1.1.1.1.2.4): The track or subset with common characteristics  must have a load capability with a value of speed that is an integer. This error may be due to having an instance of LoadCapability with no value of speed, more than one value of speed, or that the value is not an integer."@en .

# loadCapabilityLineCategory: # 1.1.1.1.2.4
 era-sh:LoadCapabilityShape sh:property era-sh:LoadCapabilityLineCategory.
 era-sh:LoadCapabilityLineCategory
	a sh:PropertyShape ; 
    era:affectedProperty era:loadCapabilityLineCategory;
    era:affectedClass  era:LoadCapability;
    era:scope "local";   
	rdfs:comment "Load capability is a combination of the line category and speed at the weakest point of the track."@en;
	era:rinfIndex "1.1.1.1.2.4" ;
	sh:path era:loadCapabilityLineCategory ;
	sh:nodeKind sh:IRI ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:severity sh:Violation ;
	sh:message "loadCapabilityLineCategory (1.1.1.1.2.4): The track or subset with common characteristics  must have a load capability with a value of line category that is an URI. This error may be due to having an instance of Load capability with no value of a line category, more than one value of a line category, or a value that is not an IRI."@en .

# loadCapabilityLineCategory: # 1.1.1.1.2.4
era-sh:RunningTrackShape sh:sparql era-sh:LoadCapabilityLineCategorySKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:LoadCapabilityLineCategorySKOS.
era-sh:LoadCapabilityLineCategorySKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:loadCapabilityLineCategory;
    era:affectedClass  era:LoadCapability;
    era:scope "local";   
    rdfs:comment "Load capability is a combination of the line category and speed at the weakest point of the track."@en;
	era:rinfIndex "1.1.1.1.2.4" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the load capability line category (1.1.1.1.2.4):): The track or subset with common characteristics  {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/load-capability-line-categories/LoadCapabilityLineCategories."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:trackLoadCapability ?loadCapability .
        ?loadCapability era:loadCapabilityLineCategory ?concept .
        era:loadCapabilityLineCategory era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .


# nationalLoadCapability: # 1.1.1.1.2.4.1
era-sh:RunningTrackShape sh:property era-sh:NationalLoadCapability.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:NationalLoadCapability.
era-sh:NationalLoadCapability
	a sh:PropertyShape ; 
    era:affectedProperty era:nationalLoadCapability;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "National classification for load capability"@en ;
	era:rinfIndex "1.1.1.1.2.4.1" ;
	sh:path era:nationalLoadCapability ;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "nationalLoadCapability (1.1.1.1.2.4.1): The track or subset with common characteristics has a national load capability value that must be  a string. This error may be due to the track having a value of national load capability that is not a character string."@en .



# highSpeedLoadModelCompliance: # 1.1.1.1.2.4.2
era-sh:RunningTrackShape sh:property era-sh:HighSpeedLoadModelCompliance.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HighSpeedLoadModelCompliance.
era-sh:HighSpeedLoadModelCompliance
	a sh:PropertyShape ; 
    era:affectedProperty era:highSpeedLoadModelCompliance;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "National classification for load capability"@en;
	rdfs:comment "For sections of line with a maximum permitted speed of 200km/h or more information regarding the procedure to be used to perform the dynamic compatibility check"@en;
	era:rinfIndex "1.1.1.1.2.4.2" ;
	sh:path era:highSpeedLoadModelCompliance ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "highSpeedLoadModelCompliance (1.1.1.1.2.4.2): The track or subset with common characteristics must have at most one high speed load model compliance value that must be Y/N (boolean). This error may be due to the track having more than one value or having a value of high speed load model compliance that is not Y/N."@en .

# structureCheckLocation: # 1.1.1.1.2.4.3
era-sh:RunningTrackShape sh:property era-sh:StructureCheckLocation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:StructureCheckLocation.
era-sh:StructureCheckLocation
	a sh:PropertyShape ; 
    era:affectedProperty era:structureCheckLocation;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
	rdfs:comment "Localisation of structures requiring specific checks."@en ;
	era:rinfIndex "1.1.1.1.2.4.3" ;
	sh:path era:structureCheckLocation ;
	sh:datatype xsd:double ;
	sh:pattern "^(\\+|\\-)?([1-9]\\d{1,3}|[0-9])\\.\\d{1,3}$" ;
	sh:severity sh:Violation ;
	sh:message "structureCheckLocation (1.1.1.1.2.4.3): The track or subset with common characteristics has a location of the structure check value that must be a double (real) number and follow the format [±NNNN.NNN]. This error may be due to the track having a value that does not follow the pattern or is not a double (real) number."@en .

# compatibilityProcedureDocument: # 1.1.1.1.2.4.4
era-sh:RunningTrackShape sh:property era-sh:CompatibilityProcedureDocument.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:CompatibilityProcedureDocument.
era-sh:CompatibilityProcedureDocument
	a sh:PropertyShape ; 
    era:affectedProperty era:compatibilityProcedureDocument;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
	rdfs:comment "Document with the procedure for static and dynamic compatibility checks."@en ;
	era:rinfIndex "1.1.1.1.2.4.4" ;
	sh:path era:compatibilityProcedureDocument ;
    sh:class era:Document ;
	sh:severity sh:Violation ;
	sh:message "compatibilityProcedureDocument (1.1.1.1.2.4.4): The track or subset with common characteristics has a name of the compatibility procedure document that must be a Document."@en .

# maximumPermittedSpeed: # 1.1.1.1.2.5
era-sh:RunningTrackShape sh:property era-sh:MaximumPermittedSpeed.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:MaximumPermittedSpeed.
era-sh:MaximumPermittedSpeed
	a sh:PropertyShape ; 
    era:affectedProperty era:maximumPermittedSpeed;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Maximum permitted speed."@en ;
	era:rinfIndex "1.1.1.1.2.5" ;
	sh:path era:maximumPermittedSpeed ;
	sh:maxCount 1 ;
	sh:datatype xsd:integer ;
	sh:minInclusive 0 ;
	sh:maxInclusive 500 ;
	sh:severity sh:Violation ;
	sh:message "maximumPermittedSpeed (1.1.1.1.2.5): The track or subset with common characteristics must have at most one value of maximum permitted speed that is  an integer that lies within the range 0 to 500. This error may be due to the track having more than one value of maximum permitted speed, that the value does not lie within the range, or that the value is not an integer."@en .

#temperatureRange: # 1.1.1.1.2.6
era-sh:RunningTrackShape sh:property era-sh:TemperatureRange.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TemperatureRange.
era-sh:TemperatureRange
	a sh:PropertyShape ; 
    era:affectedProperty era:temperatureRange;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Indication of the temperature range of track."@en ;
	era:rinfIndex "1.1.1.1.2.6" ;
	sh:path era:temperatureRange ;
    sh:nodeKind sh:IRI ;
    sh:maxCount 1;
	sh:severity sh:Violation ;
	sh:message "temperatureRange (1.1.1.1.2.6): Each track or subset with common characteristics may have exactly one temperature range value that must be an IRI. This error may be due to the track not having a temperature range, or having more than one temperature range."@en .

#temperatureRange: # 1.1.1.1.2.6
era-sh:RunningTrackShape sh:sparql era-sh:TemperatureRangeSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:TemperatureRangeSKOS.
era-sh:TemperatureRangeSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:temperatureRange;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
    rdfs:comment "Indication of the temperature range of track."@en ;
	era:rinfIndex "1.1.1.1.2.6" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the temperature range (1.1.1.1.2.6):): The track {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/temperature-ranges/TemperatureRanges."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:temperatureRange ?concept .
        era:temperatureRange era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" .



# maximumAltitude: # 1.1.1.1.2.7
era-sh:RunningTrackShape sh:property era-sh:MaximumAltitude.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:MaximumAltitude.
era-sh:MaximumAltitude
	a sh:PropertyShape ; 
    era:affectedProperty era:maximumAltitude;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Highest point of the section of line above sea level in reference to Normal Amsterdam's Peil (NAP)."@en ;
	era:rinfIndex "1.1.1.1.2.7" ;
	sh:path era:maximumAltitude ;
	
	sh:maxCount 1 ;
	#sh:datatype xsd:double ; Pending fix in mappings
	sh:pattern "^(\\+|\\-)\\d{1,4}$" ;
	sh:severity sh:Violation ;
	sh:message "maximumAltitude (1.1.1.1.2.7): The track or subset with common characteristics must define at most one maximum altitude value that must be a double (real) number with format[±NNNN]. This error may be due to the track having more than one value of maximum altitude or that the value is not a double (real) number."@en .

# hasSevereWeatherConditions: # 1.1.1.1.2.8
era-sh:RunningTrackShape sh:property era-sh:HasSevereWeatherConditions.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasSevereWeatherConditions.
era-sh:HasSevereWeatherConditions
	a sh:PropertyShape ; 
    era:affectedProperty era:hasSevereWeatherConditions;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Climatic conditions on the line are severe according to European standard."@en ;
	era:rinfIndex "1.1.1.1.2.8" ;
	sh:path era:hasSevereWeatherConditions ;
	sh:datatype xsd:boolean ;
	sh:maxCount 1 ;
	sh:severity sh:Violation ;
	sh:message "hasSevereWeatherConditions (1.1.1.1.2.8): The track or subset with common characteristics must have at most one existence of severe weather conditions value that must be Y/N (boolean). This error may be due to the track having more than one value of has severe weather conditions or that the value is not Y/N (boolean)."@en .


# profileNumberSwapBodies: # 1.1.1.1.3.4
era-sh:RunningTrackShape sh:sparql era-sh:ProfileNumberSwapBodiesSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ProfileNumberSwapBodiesSKOS.
era-sh:ProfileNumberSwapBodiesSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:profileNumberSwapBodies;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
    rdfs:comment "Coding for combined transport with swap bodies as defined in UIC Code."@en ;
	era:rinfIndex "1.1.1.1.3.4" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the profileNumberSwapBodies(1.1.1.1.3.4):): The track {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/profile-num-swap-bodies/ProfileNumbersSwapBodies."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:profileNumberSwapBodies ?concept .
        era:profileNumberSwapBodies era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .


# profileNumberSemiTrailers: # 1.1.1.1.3.5
era-sh:RunningTrackShape sh:sparql era-sh:ProfileNumberSemiTrailersSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ProfileNumberSemiTrailersSKOS.
era-sh:ProfileNumberSemiTrailersSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:profileNumberSemiTrailers;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
    rdfs:comment "Coding for combined transport with semi-trailers as defined in UIC Code."@en ;
	era:rinfIndex "1.1.1.1.3.5" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the profileNumberSemiTrailers(1.1.1.1.3.5):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/profile-num-semi-trailers/ProfileNumbersSemiTrailers."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
	    $this era:profileNumberSemiTrailers ?concept .
        era:profileNumberSemiTrailers era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .



# specificInformation: #  1.1.1.1.3.5.1
era-sh:RunningTrackShape sh:property era-sh:SpecificInformation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:SpecificInformation.
era-sh:SpecificInformation
	a sh:PropertyShape ; 
    era:affectedProperty era:specificInformation;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
    
	rdfs:comment "Any specific information from the IM."@en ;
	era:rinfIndex "1.1.1.1.3.5.1" ;
	sh:path era:specificInformation; 
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "specificInformation (1.1.1.1.3.5.1): The track or subset with common characteristics  has a specific information value that must be a  string. This error may be due to having a value of specific information from the IM that is not a character string."@en .

# gradientProfile: # 1.1.1.1.3.6
era-sh:RunningTrackShape sh:property era-sh:GradientProfile.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:GradientProfile.
era-sh:GradientProfile
	a sh:PropertyShape ; 
    era:affectedProperty era:gradientProfile;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Sequence of gradient values and locations of change in gradient."@en ;
	era:rinfIndex "1.1.1.1.3.6" ;
	sh:path era:gradientProfile ;
	
	sh:datatype xsd:string ;
  	sh:pattern "^((\\+|\\-)([1-9]\\d{1}|[0-9]|00)\\.\\d{1,3}(\\((\\+|\\-)?([1-9]\\d{1,2}|[0-9])\\.\\d{1,3}\\))?)(,(\\+|\\-)([1-9]\\d{1}|[0-9])\\.\\d{1,3}(\\((\\+|\\-)?([1-9]\\d{1,2}|[0-9])\\.\\d{1,3}\\))?)*$" ;
	sh:severity sh:Violation ;
	sh:message "gradientProfile (1.1.1.1.3.6): The track or subset with common characteristics has a gradient profile value that must be a string with a sequence of values in the format [+/-][NN.N]([+/-][NNNN.NNN]). This error may be due to having a sequence of values that are not a string or that do not follow the pattern."@en .





# cantDeficiency: # 1.1.1.1.4.2 
era-sh:RunningTrackShape sh:property era-sh:CantDeficiency.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:CantDeficiency.
era-sh:CantDeficiency
	a sh:PropertyShape ; 
    era:affectedProperty era:cantDeficiency;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
    
	rdfs:comment "Maximum cant deficiency expressed in millimeters defined as difference between the applied cant and a higher equilibrium cant the line has been designed for."@en ;
	era:rinfIndex "1.1.1.1.4.2" ;
	sh:path era:cantDeficiency ;
	sh:maxCount 1 ;
	sh:datatype xsd:integer ;
	sh:pattern "^(\\+|\\-)?([0-9]\\d{0,3})$" ;
	sh:severity sh:Violation ;
	sh:message "cantDeficiency (1.1.1.1.4.2): The track or subset with common characteristics must have at most one cant deficiency value that is an integer. This error may be due to the track having more than one cant deficiency value or to having a value that is not an int."@en .


# railInclination: #1.1.1.1.4.3
era-sh:RunningTrackShape sh:property era-sh:RailInclination.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:RailInclination.
era-sh:RailInclination
	a sh:PropertyShape ; 
    era:affectedProperty era:railInclination;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
    
	rdfs:comment "An angle defining the inclination of the head of a rail relatie to the running surface."@en ;
	era:rinfIndex "1.1.1.1.4.3" ;
	sh:path era:railInclination ;
	sh:maxCount 1 ;
	sh:nodeKind sh:IRI ;
	sh:severity sh:Violation ;
	sh:message "railInclination (1.1.1.1.4.3): The track or subset with common characteristics must have at most one rail inclination measurement value that is an IRI. This error may be due to the track having more than one rail inclination measurement value or to having a value that is not an IRI."@en .

# railInclination: #1.1.1.1.4.3
era-sh:RunningTrackShape sh:sparql era-sh:RailInclinationSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:RailInclinationSKOS.
era-sh:RailInclinationSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:railInclination;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
    
    rdfs:comment "An angle defining the inclination of the head of a rail relatie to the running surface."@en ;
	era:rinfIndex "1.1.1.1.4.3" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the rail inclination (1.1.1.1.4.3):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/rail-inclinations/RailInclinations."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:railInclination ?concept .
        era:railInclination era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" .


# hasBallast: # 1.1.1.1.4.4
era-sh:RunningTrackShape sh:property era-sh:HasBallast.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasBallast.
era-sh:HasBallast
	a sh:PropertyShape ; 
    era:affectedProperty era:hasBallast ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Specifies whether the track construction is with sleepers embedded in ballast or not."@en ;
	era:rinfIndex "1.1.1.1.4.4" ;
	sh:path era:hasBallast ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hasBallast (1.1.1.1.4.4): The track or subset with common characteristics must have at most one existence of ballast value that is Y/N (boolean). This error may be due to the track having more than one has ballast value or to having a value that is not Y/N (boolean)."@en .

# tsiSwitchCrossing: # 1.1.1.1.5.1
era-sh:RunningTrackShape sh:property era-sh:TSISwitchCrossing.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TSISwitchCrossing.
era-sh:TSISwitchCrossing
	a sh:PropertyShape ; 
    era:affectedProperty era:tsiSwitchCrossing ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Switches and crossings are maintained to in service limit dimension as specified in TSI."@en ;
	era:rinfIndex "1.1.1.1.5.1" ;
	sh:path era:tsiSwitchCrossing ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "tsiSwitchCrossing (1.1.1.1.5.1): The track or subset with common characteristics must have at most one existence of TSI switches and crossing value that is Y/N (boolean). This error may be due to the track having more than one tsi swith crossing value or to having a value that is not Y/N (boolean)."@en .

# minimumWheelDiameter: # 1.1.1.1.5.2
era-sh:RunningTrackShape sh:property era-sh:MinimumWheelDiameter.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:MinimumWheelDiameter.
era-sh:MinimumWheelDiameter
	a sh:PropertyShape ; 
    era:affectedProperty era:minimumWheelDiameter ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Maximum unguided length of fixed obtuse crossings is based on a minimum wheel diameter in service expressed in millimiters."@en ;
	era:rinfIndex "1.1.1.1.5.2" ;
	sh:path era:minimumWheelDiameter ;
	sh:maxCount 1 ;
	sh:minInclusive 330 ;
	sh:datatype xsd:integer ;
	sh:pattern "^([1-9]\\d{1,2}|[0-9])$" ;
	sh:severity sh:Violation ;
	sh:message "minimumWheelDiameter (1.1.1.1.5.2): The track or subset with common characteristics must have at most one minimum wheel diameter value that is an integer. This error may be due to the track having more than one minimum wheel diameter value or to having a value that is not an integer."@en .

# maximumTrainDeceleration: # 1.1.1.1.6.1
era-sh:RunningTrackShape sh:property era-sh:MaximumTrainDeceleration.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:MaximumTrainDeceleration.
era-sh:MaximumTrainDeceleration
	a sh:PropertyShape ; 
    era:affectedProperty era:maximumTrainDeceleration ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Limit for longitudinal track resistance given as a maximum allowed train deceleration and expressed in m/s2."@en ;
	era:rinfIndex "1.1.1.1.6.1" ;
	sh:path era:maximumTrainDeceleration ;
	sh:maxCount 1 ;
	sh:datatype xsd:double ;
	sh:pattern "^[0-9]\\.[0-9]$" ;
	sh:severity sh:Violation ;
	sh:message "maximumTrainDeceleration (1.1.1.1.6.1): The track or subset with common characteristics must have at most one maximum train deceleration value that is a double (real) number . This error may be due to the track having more than one maximum train deceleration value or to having a value that is not a real (double) number."@en .






# eddyCurrentBrakingConditionsDocument: # 1.1.1.1.6.4
era-sh:RunningTrackShape sh:property era-sh:EddyCurrentBrakingConditionsDocument.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:EddyCurrentBrakingConditionsDocument.
era-sh:EddyCurrentBrakingConditionsDocument
	a sh:PropertyShape ; 
    era:affectedProperty era:eddyCurrentBrakingConditionsDocument ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of eddy current brakes identified in 1.1.1.1.6.2."@en ;
	era:rinfIndex "1.1.1.1.6.4" ;
	sh:path era:eddyCurrentBrakingConditionsDocument ;
    sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "eddyCurrentBrakingConditionsDocument (1.1.1.1.6.4): The track or subset with common characteristics has an eddy current braking conditions document value that must be a Document."@en .

# magneticBrakingConditionsDocument: # 1.1.1.1.6.5
era-sh:RunningTrackShape sh:property era-sh:MagneticBrakingConditionsDocument.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:MagneticBrakingConditionsDocument.
era-sh:MagneticBrakingConditionsDocument
	a sh:PropertyShape ; 
    era:affectedProperty era:magneticBrakingConditionsDocument ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Electronic documents available in two EU languages from the IM stored by the Agency with conditions for the use of magnetic brakes identified in 1.1.1.1.6.3."@en ;
	era:rinfIndex "1.1.1.1.6.5" ;
	sh:path era:magneticBrakingConditionsDocument ;
    sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "magneticBrakingConditionsDocument (1.1.1.1.6.5): The track or subset with common characteristics has a magnetic braking conditions document value that must be a Document."@en .

# flangeLubeForbidden: # 1.1.1.1.7.1
era-sh:RunningTrackShape sh:property era-sh:FlangeLubeForbidden.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:FlangeLubeForbidden.
era-sh:FlangeLubeForbidden
	a sh:PropertyShape ; 
    era:affectedProperty era:flangeLubeForbidden ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
	rdfs:comment "Indication whether the use of on-board device for flange lubrication is forbidden."@en ;
	era:rinfIndex "1.1.1.1.7.1" ;
	sh:path era:flangeLubeForbidden ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "flangeLubeForbidden (1.1.1.1.7.1): The track or subset with common characteristics must have at most one flange lube forbidden value that is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en .

# hasLevelCrossings: # 1.1.1.1.7.2
era-sh:RunningTrackShape sh:property era-sh:HasLevelCrossings.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasLevelCrossings.
era-sh:HasLevelCrossings
	a sh:PropertyShape ; 
    era:affectedProperty era:hasLevelCrossings ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
	rdfs:comment "Indication whether level crossings (including pedestrian track crossing) exist onf the section line."@en ;
	era:rinfIndex "1.1.1.1.7.2" ;
	sh:path era:hasLevelCrossings ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hasLevelCrossings (1.1.1.1.7.2): The track or subset with common characteristics must have at most one existence of level crossings value that is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en .

# accelerationLevelCrossing: # 1.1.1.1.7.3
era-sh:RunningTrackShape sh:property era-sh:AccelerationLevelCrossing.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:AccelerationLevelCrossing.
era-sh:AccelerationLevelCrossing
	a sh:PropertyShape ; 
    era:affectedProperty era:accelerationLevelCrossing ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Existence of limit for acceleration of train if stopping or recovering speed close to a level crossing expressed in a specific reference acceleration curve."@en ;
	era:rinfIndex "1.1.1.1.7.3" ;
	sh:path era:accelerationLevelCrossing ;
	sh:maxCount 1 ;
	sh:nodeKind sh:IRI ;
    sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "accelerationLevelCrossing (1.1.1.1.7.3): The track or subset with common characteristics must have at most one acceleration level crossing value that is a Document. This error may be due to having more than one value or having a value that is not an instance of Document."@en .

# hasHotAxleBoxDetector: # 1.1.1.1.7.4
era-sh:RunningTrackShape sh:property era-sh:HasHotAxleBoxDetector.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasHotAxleBoxDetector.
era-sh:HasHotAxleBoxDetector
	a sh:PropertyShape ; 
    era:affectedProperty era:hasHotAxleBoxDetector ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Existence of trackside hot axle box detector."@en ;
	era:rinfIndex "1.1.1.1.7.4" ;
	sh:path era:hasHotAxleBoxDetector ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hasHotAxleBoxDetector (1.1.1.1.7.4): The track or subset with common characteristics must have at most one existence of hot axle box detector value that is Y/N (boolean)."@en .

# hotAxleBoxDetectorTSICompliant: # 1.1.1.1.7.5
era-sh:RunningTrackShape sh:property era-sh:HotAxleBoxDetectorTSICompliant.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HotAxleBoxDetectorTSICompliant.
era-sh:HotAxleBoxDetectorTSICompliant
	a sh:PropertyShape ; 
    era:affectedProperty era:hotAxleBoxDetectorTSICompliant ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
	rdfs:comment "Trackside HABD compilant to TSI means that the HABD is compliant with EN 15437:2009 and specific cases mentioned in TSIs."@en ;
	era:rinfIndex "1.1.1.1.7.5" ;
	sh:path era:hotAxleBoxDetectorTSICompliant ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hotAxleBoxDetectorTSICompliant (1.1.1.1.7.5): The track or subset with common characteristics must have at most one value that defines if the hot axle box detector is TSI compliant and the value is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en .

# hotAxleBoxDetectorIdentification: # 1.1.1.1.7.6
era-sh:RunningTrackShape sh:property era-sh:HotAxleBoxDetectorIdentification.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HotAxleBoxDetectorIdentification.
era-sh:HotAxleBoxDetectorIdentification
	a sh:PropertyShape ; 
    era:affectedProperty era:hotAxleBoxDetectorIdentification ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";    
	rdfs:comment "Specific for the French, Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant. Identification of the trackside HABD."@en ;
	era:rinfIndex "1.1.1.1.7.6" ;
	sh:path era:hotAxleBoxDetectorIdentification ;
	sh:maxCount 1 ;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "hotAxleBoxDetectorIdentification (1.1.1.1.7.6): The track or subset with common characteristics  must have at most one value that defines the identification of the hot axle box detector and the value is a character string. This error may be due to having more than one value or having a value that is not a string."@en .

# hotAxleBoxDetectorGeneration: # 1.1.1.1.7.7
era-sh:RunningTrackShape sh:property era-sh:HotAxleBoxDetectorGeneration.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HotAxleBoxDetectorGeneration.
era-sh:HotAxleBoxDetectorGeneration
	a sh:PropertyShape ; 
    era:affectedProperty era:hotAxleBoxDetectorGeneration ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Applicable if trackside HABD is not TSI compliant. Generation of the trackside HABD."@en ;
	era:rinfIndex "1.1.1.1.7.7" ;
	sh:path era:hotAxleBoxDetectorGeneration ;
	sh:maxCount 1 ;
	#TODO: Single selection from predefined list (waiting for update of documentation)
	sh:severity sh:Violation ;
	sh:message "hotAxleBoxDetectorGeneration (1.1.1.1.7.7): The track or subset with common characteristics must have at most one generation of the hot axle box detector value that is Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en .

# hotAxleBoxDetectorLocation: # 1.1.1.1.7.8
era-sh:RunningTrackShape sh:property era-sh:HotAxleBoxDetectorLocation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HotAxleBoxDetectorLocation.
era-sh:HotAxleBoxDetectorLocation
	a sh:PropertyShape ; 
    era:affectedProperty era:hotAxleBoxDetectorLocation  ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Applicable if trackside HABD is not TSI compliant. Location of the trackside HABD."@en ;
	era:rinfIndex "1.1.1.1.7.8" ;
	sh:path era:hotAxleBoxDetectorLocation ;
	sh:datatype xsd:double ;
	sh:pattern "^(\\+|\\-)?([1-9]\\d{1,3}|[0-9])\\.\\d{1,3}$" ;
	sh:severity sh:Violation ;
	sh:message "hotAxleBoxDetectorLocation (1.1.1.1.7.8): The track or subset with common characteristics has a location of the hot axle box detector(s) vallue that must be a double (real) number with format [±NNNN.NNN]. This error may be due to having a value that is not a double (real) number or does not follow the pattern [±NNNN.NNN]."@en .

# hotAxleBoxDetectorDirection: # 1.1.1.1.7.9
era-sh:RunningTrackShape sh:property era-sh:HotAxleBoxDetectorDirection.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HotAxleBoxDetectorDirection.
era-sh:HotAxleBoxDetectorDirection
	a sh:PropertyShape ; 
    era:affectedProperty era:hotAxleBoxDetectorDirection  ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
	rdfs:comment "Direction of measurement of the trackside HABD."@en ;
	era:rinfIndex "1.1.1.1.7.9" ;
	sh:path era:hotAxleBoxDetectorDirection ;
	sh:maxCount 1 ;
	sh:nodeKind sh:IRI ;
    sh:severity sh:Violation ;
	sh:message "hotAxleBoxDetectorDirection (1.1.1.1.7.9): The track or subset with common characteristics must have at most one direction of measurement of the hot axle box detector value that is an IRI. This error may be due to the track having more than one value of hot axle box detector direction."@en .

# hotAxleBoxDetectorDirection: # 1.1.1.1.7.9
era-sh:RunningTrackShape sh:sparql era-sh:HotAxleBoxDetectorDirectionSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:HotAxleBoxDetectorDirectionSKOS.
era-sh:HotAxleBoxDetectorDirectionSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hotAxleBoxDetectorDirection  ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
    
    rdfs:comment "Direction of measurement of the trackside HABD."@en ;
	era:rinfIndex "1.1.1.1.7.9" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the hotAxleBoxDetectorDirection (1.1.1.1.7.9):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/hot-axle-box-detector-direction/HotAxleBoxDetectorDirections."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:hotAxleBoxDetectorDirection ?concept .
        era:hotAxleBoxDetectorDirection era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .




# redLightsRequired: # 1.1.1.1.7.10 
era-sh:RunningTrackShape sh:property era-sh:RedLightsRequired.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:RedLightsRequired.
era-sh:RedLightsRequired
	a sh:PropertyShape ; 
    era:affectedProperty era:redLightsRequired  ;
    era:affectedClass  era:RunningTrack;
    era:scope "local";   
	rdfs:comment "Sections where two steady red lights are required in accordance with Implementing Regulations (EU) 2019/773."@en ;
	era:rinfIndex "1.1.1.1.7.10" ;
	sh:path era:redLightsRequired ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "redLightsRequired (1.1.1.1.7.10): The track or subset with common characteristics must have at most one value that defines if two steady red lights are required and the value must be Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en .

# isQuietRoute: # 1.1.1.1.7.11
era-sh:RunningTrackShape sh:property era-sh:IsQuietRoute.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:IsQuietRoute.
era-sh:IsQuietRoute
	a sh:PropertyShape ; era:affectedProperty era:isQuietRoute  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Belonging to a 'quiet route' in accordance with Article 5b of Regulation (EU) 1304/2014."@en ;
	era:rinfIndex "1.1.1.1.7.11" ;
	sh:path era:isQuietRoute ;	
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "isQuietRoute (1.1.1.1.7.11): The track or subset with common characteristics must have at most one value that defines if it belongs to a 'quiet route' and the value must be Y/N (boolean). This error may be due to having more than one value or having a value that is not Y/N (boolean)."@en .

# verificationENE: # 1.1.1.2.1.1
era-sh:RunningTrackShape sh:property era-sh:VerificationENE.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:VerificationENE.
era-sh:VerificationENE
	a sh:PropertyShape ; era:affectedProperty era:verificationENE  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Unique number for EC declarations following format requirements specified in the 'Document about practical arrangents for transmitting interoperability documents' ."@en ;
	era:rinfIndex "1.1.1.2.1.1" ;
	sh:path era:verificationENE ;
	
	sh:datatype xsd:string ;
	sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$";
	sh:severity sh:Violation ;
	sh:message "verificationENE (1.1.1.2.1.1): The track or subset with common characteristics has a number for EC declarations that must follow format CC/XXXXXXXXXXXXXX/YYYY/NNNNNN where CC is country code, XXXXX... is a number, YYYY is a year between 1900 and 2100, NNNNNN is the number for the EC declaration. This error may be due to the track having a value that does not follow the pattern."@en .

# demonstrationENE: #1.1.1.2.1.2
era-sh:RunningTrackShape sh:property era-sh:DemonstrationENE.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:DemonstrationENE.
era-sh:DemonstrationENE
	a sh:PropertyShape ; era:affectedProperty era:demonstrationENE  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Unique number for EI declarations following the same format requirements as specified in the 'Document about practical arrangents for transmitting interoperability documents'."@en ;
	era:rinfIndex "1.1.1.2.1.2" ;
	sh:path era:demonstrationENE ;
	sh:datatype xsd:string ;
	sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$";
	sh:severity sh:Violation ;
	sh:message "demonstrationENE (1.1.1.2.1.2): The track or subset with common characteristics has a number for EI declarations that must follow format CC/XXXXXXXXXXXXXX/YYYY/NNNNNN where CC is country code, XXXXX... is a number, YYYY is a year between 1900 and 2100, NNNNNN is the number for the EI declaration. This error may be due to the track having a value that is not a tring or that does not follow the pattern."@en .


# tsiPantographHead: # 1.1.1.2.3.1
era-sh:RunningTrackShape sh:sparql era-sh:TsiPantographHeadSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:TsiPantographHeadSKOS.
era-sh:TsiPantographHeadSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:tsiPantographHead  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
    rdfs:comment "Accepted TSI compliant pantograph heads."@en ;
	era:rinfIndex "1.1.1.2.3.1" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the tsiPantographHead (1.1.1.2.3.1):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/compliant-pantograph-heads/CompliantPantographHeads."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:tsiPantographHead ?concept .
        era:tsiPantographHead era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# otherPantographHead: # 1.1.1.2.3.2
era-sh:RunningTrackShape sh:sparql era-sh:OtherPantographHeadSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:OtherPantographHeadSKOS.
era-sh:OtherPantographHeadSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:otherPantographHead  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
    rdfs:comment "Indication of which other pantograph heads are allowed to be used."@en ;
	era:rinfIndex "1.1.1.2.3.2" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the otherPantographHead (1.1.1.2.3.2):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/other-pantograph-heads/OtherPantographHeads."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:otherPantographHead ?concept .
        era:otherPantographHead era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# trackRaisedPantographsDistanceAndSpeed: # 1.1.1.2.3.3
era-sh:RunningTrackShape sh:property era-sh:TrackRaisedPantographsDistanceAndSpeed.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TrackRaisedPantographsDistanceAndSpeed.
era-sh:TrackRaisedPantographsDistanceAndSpeed
	a sh:PropertyShape ; era:affectedProperty era:trackRaisedPantographsDistanceAndSpeed  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Relates the track with the class RaisedPantporaphsDistanceAndSpeed. Indication of maximum number of raised pantographs per train allowed and minimum spacing centre line to centre line of adjacent pantograph heads, expressed in metres, at the given speed."@en ;
	era:rinfIndex "1.1.1.2.3.3" ;
	sh:path era:trackRaisedPantographsDistanceAndSpeed ;
    sh:class era:RaisedPantographsDistanceAndSpeed;
    # sh:node era-sh:RaisedPantographsDistanceAndSpeedShape; not implemented in the shacl engine
	sh:severity sh:Violation ;
	sh:message "trackRaisedPantographsDistanceAndSpeed (1.1.1.2.3.3): The track defines a raised pantographs distance and speed value that must be an instance of RaisedPantographsDistanceAndSpeed."@en .

# raisedPantographsDistance: # 1.1.1.2.3.3
era-sh:RaisedPantographsDistanceAndSpeedShape sh:property era-sh:RaisedPantographsDistance.
era-sh:RaisedPantographsDistance
	a sh:PropertyShape ; era:affectedProperty era:raisedPantographsDistance  ;     era:affectedClass  era:RaisedPantographsDistanceAndSpeed;     era:scope "local";     
	rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minumum spacing centre line to centre line of adjacent pantograph heads, expressed in meters, at the given speed."@en ;
	era:rinfIndex "1.1.1.2.3.3" ;
	sh:path era:raisedPantographsDistance ;
    sh:minCount 1;
	sh:maxCount 1;
	sh:datatype xsd:integer ;
	sh:severity sh:Violation ;
	sh:message "Raised pantographs distance  (1.1.1.2.3.3): The track or subset with common characteristics must have a raised pantographs distance and speed with a value of distance that is an integer. This error is due to the track having a RaisedPantographDistanceAndSpeed with no value of distance, more than one value of distance or having a value that is not an integer."@en .

# raisedPantographsSpeed: # 1.1.1.2.3.3
 era-sh:RaisedPantographsDistanceAndSpeedShape sh:property era-sh:RaisedPantographsSpeed.
 era-sh:RaisedPantographsSpeed
	a sh:PropertyShape ; era:affectedProperty era:raisedPantographsSpeed  ;        era:scope "local";     
    era:affectedClass  era:RaisedPantographsDistanceAndSpeed;
	rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minumum spacing centre line to centre line of adjacent pantograph heads, expressed in meters, at the given speed."@en ;
	era:rinfIndex "1.1.1.2.3.3" ;
    era:minCount 1;
    sh:maxCount 1;
	sh:path era:raisedPantographsSpeed ;
	sh:datatype xsd:integer ;
	sh:severity sh:Violation ;
	sh:message "raised pantographs speed (1.1.1.2.3.3): The track or subset with common characteristics must have a raised pantographs distance and speed with a value of speed that is an integer. This error is due to having a RaisedPantographDistanceAndSpeed with no value of speed, more than one value of speed or having a value that is not an integer."@en .

# raisedPantographsNumber: # 1.1.1.2.3.3
 era-sh:RaisedPantographsDistanceAndSpeedShape sh:property era-sh:RaisedPantographsNumber.
 era-sh:RaisedPantographsNumber
	a sh:PropertyShape ; era:affectedProperty era:raisedPantographsNumber ;     era:scope "local";   
    era:affectedClass  era:RaisedPantographsDistanceAndSpeed;
	rdfs:comment "Indication of maximum number of raised pantographs per train allowed and minumum spacing centre line to centre line of adjacent pantograph heads, expressed in meters, at the given speed."@en ;
	era:rinfIndex "1.1.1.2.3.3" ;
	sh:path era:raisedPantographsNumber ;
    sh:minCount 1;
	sh:maxCount 1;
	sh:datatype xsd:integer ;
	sh:severity sh:Violation ;
	sh:message "Raised pantographs number (1.1.1.2.3.3): The track or subset with common characteristics must have a raised pantographs distance and number with a value of number that is an integer. This error is due to having a RaisedPantographDistanceAndSpeed with no value of number, more than one value of number or having a value that is not an integer."@en .



 
# contactStripMaterial: # 1.1.1.2.3.4
era-sh:RunningTrackShape sh:sparql era-sh:ContactStripMaterialSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ContactStripMaterialSKOS.
era-sh:ContactStripMaterialSKOS
	a sh:SPARQLConstraint ;
era:affectedProperty era:contactStripMaterial  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
   rdfs:comment "Indication of the material of the contact strip."@en ;
	era:rinfIndex "1.1.1.2.3.4" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the contactStripMaterial (1.1.1.2.3.4):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/contact-strip-materials/ContactStripMaterials."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:contactStripMaterial ?concept .
        era:contactStripMaterial era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" .


# contactStripMaterialMetallicContent: # 1.1.1.2.3.4
era-sh:RunningTrackShape sh:property era-sh:ContactStripMaterialMetallicContent.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:ContactStripMaterialMetallicContent.
era-sh:ContactStripMaterialMetallicContent
	a sh:PropertyShape ; era:affectedProperty era:contactStripMaterialMetallicContent  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "In case that the value of the property era:contactStripMaterial is impregnated carbon, it is the metallic content, the maximum percentage allowed."@en ;
	era:rinfIndex "1.1.1.2.3.4" ;
	sh:path era:contactStripMaterialMetallicContent ;
	sh:datatype xsd:integer ;
	sh:severity sh:Violation ;
	sh:message "contactStripMaterialMetallicContent (1.1.1.2.3.4): The track or subset with common characteristics has an indication of the material of the contact strip that must be an integer. This error may be due to the track having a value that is not an integer."@en .

# phaseSeparation: # 1.1.1.2.4.1.1
 era-sh:RunningTrackShape sh:property era-sh:HasPhaseSeparation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasPhaseSeparation.
 era-sh:HasPhaseSeparation
    a sh:PropertyShape ; era:affectedProperty era:hasPhaseSeparation ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of existence of phase separation and required information."@en ;
	era:rinfIndex "1.1.1.2.4.1.1" ;
	sh:path era:hasPhaseSeparation ;
    sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hasPhaseSeparation (1.1.1.2.4.1.1): The track or subset with common characteristics defines at most one existence of phase separation and required information value that is Y/N (boolean). This error may be due to the track having more than one value or having a value that is not Y/N (boolean). "@en .



# trackPhaseInfo: # 1.1.1.2.4.1.2
era-sh:RunningTrackShape sh:property era-sh:TrackPhaseInfo.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TrackPhaseInfo.
era-sh:TrackPhaseInfo
	a sh:PropertyShape ; era:affectedProperty era:trackPhaseInfo  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Relates the Track with PhaseInfo. Indication of required several information on phase separation."@en ;
	era:rinfIndex "1.1.1.2.4.1.2" ;
	sh:path era:trackPhaseInfo ;
    sh:class era:PhaseInfo;
    # sh:node era-sh:PhaseInfoShape; not implemented in the shacl engine
	sh:severity sh:Violation ;
	sh:message "trackPhaseInfo (1.1.1.2.4.1.2): The track defines a track phase info value that must be an instance of PhaseInfo."@en .



# phaseInfoChangeSupplySystem: 
 era-sh:PhaseInfoShape sh:property era-sh:PhaseInfoChangeSupplySystem.
 era-sh:PhaseInfoChangeSupplySystem
	a sh:PropertyShape ; era:affectedProperty era:phaseInfoChangeSupplySystem  ;        era:scope "local";     
    era:affectedClass  era:PhaseInfo;
	rdfs:comment "Indication of existence of phase separation and required information."@en ;
	sh:path era:phaseInfoChangeSupplySystem ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "Phase info changeSupplySystem : The track has the phase info with the indication whether the supply system has to be changed value, that must be a character string. This error is due to the track having a SystemSeparationInfo with no value, more than one value, or a value that is not a string."@en .

# phaseInfoKm: 
era-sh:PhaseInfoShape sh:property era-sh:PhaseInfoKm.
 era-sh:PhaseInfoKm
	a sh:PropertyShape ; era:affectedProperty era:phaseInfoKm  ;     era:scope "local";     
    era:affectedClass  era:PhaseInfo;
	rdfs:comment "Indication of existence of phase separation and required information." ;
	sh:path era:phaseInfoKm ;
    sh:minCount 1;
    sh:maxCount 1;
 	sh:datatype xsd:double ;
 	sh:severity sh:Violation ;
 	sh:message "Phase info km : The track has a phase info with the location from the start of the line value (km), that must be a double. This error may be due to the track having a PhaseInfo with no value of km, more than one value of km, or a value that is not a double (real) number."@en .

# phaseInfoDistanceType: 
 era-sh:PhaseInfoShape sh:property era-sh:PhaseInfoDistanceType.
 era-sh:PhaseInfoDistanceType 
    a sh:PropertyShape ; era:affectedProperty era:phaseInfoDistanceType  ;          era:scope "local";     
    era:affectedClass  era:PhaseInfo;
	rdfs:comment "Indication of existence of phase separation and required information."@en ;
	sh:path era:phaseInfoDistanceType ;
    sh:minCount 1;
    sh:maxCount 1;
 	sh:datatype xsd:string ;
    sh:or (
        [sh:hasValue "MIN"]
        [sh:hasValue "MAX"]
    );
 	sh:severity sh:Violation ;
 	sh:message "Phase info distance type : The track has a phase info with the single selection of 'MIN=minimum' or 'MAX=maximum' to show whether the length is a minimum distance between the inner contact strips of the pantographs or a maximum distance between the outer contact strips of the pantographs, that must be the string MIN or MAX. This error may be due to the track having a PhaseInfo with no value of distancetype, more than one value of distance type, or having a value that is not one of the strings MIN or MAX."@en .



# phaseInfoLength: 
 era-sh:PhaseInfoShape sh:property era-sh:PhaseInfoLength.
 era-sh:PhaseInfoLength
	a sh:PropertyShape ; era:affectedProperty era:phaseInfoLength  ;          era:scope "local";     
    era:affectedClass  era:PhaseInfo;
	rdfs:comment "Indication of existence of phase separation and required information."@en ;
	sh:path era:phaseInfoLength ;
	sh:datatype xsd:integer ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:severity sh:Violation ;
	sh:message "Phase infolength (): The track has a phase info with the length of the phase separation value (length), that must be an integer. This error may be due to the track having a PhaseInfo with no value of length, more than one value of length,  or having a value that is not an integer."@en .

# phaseInfoPantographLowered: 
 era-sh:PhaseInfoShape sh:property era-sh:PhaseInfoPantographLowered.
 era-sh:PhaseInfoPantographLowered
	a sh:PropertyShape ; era:affectedProperty era:phaseInfoPantographLowered  ;         era:scope "local";     
    era:affectedClass  era:PhaseInfo;
	rdfs:comment "Indication of existence of phase separation and required information."@en ;
	sh:path era:phaseInfoPantographLowered ;
	sh:datatype xsd:boolean ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:severity sh:Violation ;
	sh:message "Phase info (1.1.1.2.4.1.2): The track has the phase info with the indication whether the pantograph is lowered value, that must be Y/N (boolean).  This error may be due to the track having a PhaseInfo with no value of phaseInfoPantographLowered, more than one value of phaseInfoPantographLowered, or having a value that is not Y/N (boolean)."@en .

# phaseInfoSwitchOffBreaker: 
 era-sh:PhaseInfoShape sh:property era-sh:PhaseInfoSwitchOffBreaker.
 era-sh:PhaseInfoSwitchOffBreaker
	a sh:PropertyShape ; era:affectedProperty era:phaseInfoSwitchOffBreaker  ;         era:scope "local";     
    era:affectedClass  era:PhaseInfo;
	rdfs:comment "Indication of existence of phase separation and required information."@en ;
	sh:path era:phaseInfoSwitchOffBreaker ;
	
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "Phase info switchOffBreaker : The track has the phase info with the indication whether the breaker may be switched off value, that must be Y/N (boolean). This error may be due to the track having a PhaseInfo with no value of phaseInfoSwitchOffBreaker, more than one value of phaseInfoSwitchOffBreaker, or having a value that is not Y/N (boolean)."@en .
 

# hasSystemSeparation: # 1.1.1.2.4.2.1
era-sh:RunningTrackShape sh:property era-sh:HasSystemSeparation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasSystemSeparation.
era-sh:HasSystemSeparation
	a sh:PropertyShape ; era:affectedProperty era:hasSystemSeparation  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of existence of system separation."@en ;
	era:rinfIndex "1.1.1.2.4.2.1" ;
	sh:path era:hasSystemSeparation ;	
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hasSystemSeparation (1.1.1.2.4.2.1): The track or subset with common characteristics has at most one existence of system separation value that must be Y/N (boolean). This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en .

# trackSystemSeparationInfo: # 1.1.1.2.4.2.2
era-sh:RunningTrackShape sh:property era-sh:TrackSystemSeparationInfo.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TrackSystemSeparationInfo.
era-sh:TrackSystemSeparationInfo
	a sh:PropertyShape ; era:affectedProperty era:trackSystemSeparationInfo  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Relates the Track with the SystemSeparationInfo. Indication of required several information on system separation."@en ;
	era:rinfIndex "1.1.1.2.4.2.2" ;
	sh:path era:trackSystemSeparationInfo ;
    sh:class era:SystemSeparationInfo;
    # sh:node era-sh:SystemSeparationInfoShape; not implemented in the shacl engine
	sh:severity sh:Violation ;
	sh:message "trackSystemSeparationInfo (1.1.1.2.4.2.2): The track defines a system separation info value that must be an instance of SystemSeparationInfo."@en .

# systemSeparationInfoKm: 
 era-sh:SystemSeparationInfoShape sh:property era-sh:SystemSeparationInfoKm.
 era-sh:SystemSeparationInfoKm
	a sh:PropertyShape ; era:affectedProperty era:systemSeparationInfoKm  ;          era:scope "local";     
    era:affectedClass  era:SystemSeparationInfo;
	rdfs:comment "Indication of required several information on system separation."@en ;
	sh:path era:systemSeparationInfoKm ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:datatype xsd:double ;
	sh:severity sh:Violation ;
	sh:message "System separation info km : The track has a system separation info with the location from the start of the line value (km), that must be a double.This error may be due to the track having a SystemSeparationInfo with no value, more than one value, or  a value that is not a double (real) number. "@en .

# systemSeparationInfoLength: 
 era-sh:SystemSeparationInfoShape sh:property era-sh:SystemSeparationInfoLength.
era-sh:SystemSeparationInfoLength
	a sh:PropertyShape ; era:affectedProperty era:systemSeparationInfoLength  ;          era:scope "local";     
    era:affectedClass  era:SystemSeparationInfo;
	rdfs:comment "Indication of required several information on system separation."@en ;
	sh:path era:systemSeparationInfoLength ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:datatype xsd:integer ;
	sh:severity sh:Violation ;
	sh:message "System separation info length: The track has a system separatione info with the length of the system separation value (length), that must be an integer. This error may be due to the track having a SystemSeparationInfo with no value, more than one value, or  a value that is not an integer."@en .

 # systemSeparationInfoPantographLowered: 
 era-sh:SystemSeparationInfoShape sh:property era-sh:SystemSeparationInfoPantographLowered.
 era-sh:SystemSeparationInfoPantographLowered
	a sh:PropertyShape ; era:affectedProperty era:systemSeparationInfoPantographLowered  ;          era:scope "local";     
    era:affectedClass  era:SystemSeparationInfo;
	rdfs:comment "Indication of required several information on system separation."@en ;
	sh:path era:systemSeparationInfoPantographLowered ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "System separation info pantograph lowered: The track has the system separation info with the indication whether the pantograph is lowered value, that must be Y/N (boolean). This error may be due to the track having a SystemSeparationInfo with no value, more than one value, or  a value that is not Y/N (boolean)."@en .

# systemSeparationInfoSwitchOffBreaker: 
 era-sh:SystemSeparationInfoShape sh:property era-sh:SystemSeparationInfoSwitchOffBreaker.
 era-sh:SystemSeparationInfoSwitchOffBreaker
	a sh:PropertyShape ; era:affectedProperty era:systemSeparationInfoSwitchOffBreaker  ;        era:scope "local";     
	rdfs:comment "Indication of required several information on system separation."@en ;
	sh:path era:systemSeparationInfoSwitchOffBreaker ;
    sh:minCount 1;
    sh:maxCount 1;
    era:affectedClass  era:SystemSeparationInfo;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "System separation info switchOffBreaker : The track has the system separation info with the indication whther the breaker may be switched off value, that must be Y/N (boolean). This error is due to the track having a SystemSeparationInfo with no value, more than one value, or a value that is not Y/N (boolean)."@en .

# systemSeparationInfoChangeSupplySystem: 
 era-sh:SystemSeparationInfoShape sh:property era-sh:SystemSeparationInfoChangeSupplySystem.
 era-sh:SystemSeparationInfoChangeSupplySystem
	a sh:PropertyShape ; era:affectedProperty era:systemSeparationInfoChangeSupplySystem  ;        era:scope "local";     
    era:affectedClass  era:SystemSeparationInfo;
	rdfs:comment "Indication of required several information on system separation."@en ;
	sh:path era:systemSeparationInfoChangeSupplySystem ;
    sh:minCount 1;
    sh:maxCount 1;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "System separation info changeSupplySystem : The track has the system separation info with the indication whether the supply system has to be changed value, that must be a character string. This error is due to the track having a SystemSeparationInfo with no value, more than one value, or a value that is not a string."@en .


# distSignToPhaseEnd: 
era-sh:RunningTrackShape sh:property era-sh:DistSignToPhaseEnd.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:DistSignToPhaseEnd.
era-sh:DistSignToPhaseEnd
	a sh:PropertyShape ; era:affectedProperty era:distSignToPhaseEnd  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Specific for route compatibility check on French network. Distance between the signboard authorizing the driver to 'raise pantograph' or 'close the circuit breaker' after passing the phase separation and the end of the phase separation section."@en ;
	sh:path era:distSignToPhaseEnd ;	
	sh:maxCount 1 ;
	sh:datatype xsd:integer ;
	sh:pattern "^([1-9]\\d{1,2}|[0-9])$" ;
	sh:severity sh:Violation ;
	sh:message "distSignToPhaseEnd: The track or subset with common characteristics must have at most one value of the distance between the signboard authorizing the driver to 'raise pantograph' or 'close the circuit breaker' after passing the phase separation and the end of the phase separation section, and the value is an integer. This error is due to the track having more than one value or to having a value that is not an integer."@en .




# permittedContactForce: # 1.1.1.2.5.2
era-sh:RunningTrackShape sh:property era-sh:PermittedContactForce.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:PermittedContactForce.
era-sh:PermittedContactForce
	a sh:PropertyShape ; era:affectedProperty era:permittedContactForce  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of contact force allowed expressed in newtons."@en ;
	era:rinfIndex "1.1.1.2.5.2" ;
	sh:path era:permittedContactForce ;
	
	sh:maxCount 1 ;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "permittedContactForce (1.1.1.2.5.2): The track or subset with common characteristics must have at most one value of the contact force allowed expressed in newtons. This error is due to the track having more than one value or to having a value that is not a character string."@en .

# automaticDroppingDeviceRequired: # 1.1.1.2.5.3
era-sh:RunningTrackShape sh:property era-sh:AutomaticDroppingDeviceRequired.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:AutomaticDroppingDeviceRequired.
era-sh:AutomaticDroppingDeviceRequired
	a sh:PropertyShape ; era:affectedProperty era:automaticDroppingDeviceRequired  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of the requirement of automatic dropping device."@en ;
	era:rinfIndex "1.1.1.2.5.3" ;
	sh:path era:automaticDroppingDeviceRequired ;
	
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "automaticDroppingDeviceRequired (1.1.1.2.5.3): The track or subset with common characteristics must have at most one value of the requirement of automatic dropping device and it is Y/N (boolean). This error is due to the track having more than one value or to having a value that is not Y/N (boolean)."@en .

# verificationCCS: # 1.1.1.3.1.1
era-sh:RunningTrackShape sh:property era-sh:VerificationCCS.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:VerificationCCS.
era-sh:VerificationCCS
	a sh:PropertyShape ; era:affectedProperty era:verificationCCS  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Unique number for EC declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents'."@en ;
	era:rinfIndex "1.1.1.3.1.1" ;
	sh:path era:verificationCCS ;
	sh:datatype xsd:string ;
	sh:pattern "^[A-Z]{2}\\/.{14}\\/(19[0-9][0-9]|20[0-9][0-9]|2100)\\/[0-9]{6}$";
	sh:severity sh:Violation ;
	sh:message "verificationCCS (1.1.1.3.1.1): The track or subset with common characteristics defines the unique number for EC declarations following format requirements specified in the 'Document about practical arrangements for transmitting interoperability documents; the value must be a string that follows the pattern [CC/RRRRRRRRRRRRRR/YYYY/NNNNNN] where the YYYY characters must be a number between 1900 and 2100, and the NNNNNN characters must be digits. This error is due to having a value that does not follow the pattern."@en .



# gsmRAdditionalInfo: # 1.1.1.3.3.3.1
era-sh:RunningTrackShape sh:property era-sh:GsmRAdditionalInfo.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:GsmRAdditionalInfo.
era-sh:GsmRAdditionalInfo
	a sh:PropertyShape ; era:affectedProperty era:gsmRAdditionalInfo  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Additional information on network characteristics."@en ;
	era:rinfIndex "1.1.1.3.3.3.1" ;
	sh:path era:gsmRAdditionalInfo ;
    sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "gsmRAdditionalInfo (1.1.1.3.3.3.1): The track or subset with common characteristics defines an additional information on network characteristics value that must be a Document."@en .

# gprsForETCS: # 1.1.1.3.3.3.2
era-sh:RunningTrackShape sh:property era-sh:GprsForETCS.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:GprsForETCS.
era-sh:GprsForETCS
	a sh:PropertyShape ; era:affectedProperty era:gprsForETCS  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication if GPRS can be used for ETCS."@en ;
	era:rinfIndex "1.1.1.3.3.3.2" ;
	sh:path era:gprsForETCS ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "gprsForETCS (1.1.1.3.3.3.2): The track or subset with common characteristics must define at most one  use of GPRS for ETCS value that is Y/N (boolean). This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en .

# gprsImplementationArea: # 1.1.1.3.3.3.3
era-sh:RunningTrackShape sh:property era-sh:GprsImplementationArea.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:GprsImplementationArea.
era-sh:GprsImplementationArea
	a sh:PropertyShape ; era:affectedProperty era:gprsImplementationArea  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of the area in which GPRS can be used for ETCS."@en ;
	era:rinfIndex "1.1.1.3.3.3.3" ;
	sh:path era:gprsImplementationArea ;
	sh:datatype xsd:string ;
	sh:severity sh:Violation ;
	sh:message "gprsImplementationArea (1.1.1.3.3.3.3): The track or subset with common characteristics defines the area in which GPRS can be used for ETCS value that must be a string. This error may be due to the track having  a value that is not a string."@en .



# protectionLegacySystem: # 1.1.1.3.5.3
era-sh:RunningTrackShape sh:sparql era-sh:ProtectionLegacySystemSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ProtectionLegacySystemSKOS.
era-sh:ProtectionLegacySystemSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:protectionLegacySystem  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
    rdfs:comment "Indication of which class B system is installed."@en ;
	era:rinfIndex "1.1.1.3.5.3" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the protectionLegacySystem (1.1.1.3.5.3): The track or subset with common characteristics  {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/train-protection-legacy-systems/TrainProtectionLegacySystems."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:protectionLegacySystem ?concept .
        era:protectionLegacySystem era:inSkosConceptScheme ?conceptScheme .
		FILTER (NOT EXISTS {?concept skos:inScheme ?conceptScheme} || REGEX(?concept, "/eratv/"))
	}
""" .







# etcsDegradedSituation: # 1.1.1.3.10.1
era-sh:RunningTrackShape sh:sparql era-sh:EtcsDegradedSituationSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:EtcsDegradedSituationSKOS.
era-sh:EtcsDegradedSituationSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:etcsDegradedSituation  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
    rdfs:comment "ERTMS/ ETCS application level for degraded situation related to the track side equipment."@en ;
	era:rinfIndex "1.1.1.3.10.1" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the etcsDegradedSituation (1.1.1.3.10.1): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/tsi-existence-and-compliances/TSIExistenceAndCompliances."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:etcsDegradedSituation ?concept .
        era:etcsDegradedSituation era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .






# maximumBrakingDistance: # 1.1.1.3.11.1
era-sh:RunningTrackShape sh:property era-sh:MaximumBrakingDistance.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:MaximumBrakingDistance.
era-sh:MaximumBrakingDistance
	a sh:PropertyShape ; era:affectedProperty era:maximumBrakingDistance  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "The maximum value of the braking distance [in metres] of a train shall be given for the maximum line speed."@en ;
	era:rinfIndex "1.1.1.3.11.1" ;
	sh:path era:maximumBrakingDistance ;

	sh:maxCount 1 ;
	sh:datatype xsd:integer ;
	sh:pattern "^([1-9]\\d{1,4}|[0-9])$" ;
	sh:severity sh:Violation ;
	sh:message "maximumBrakingDistance (1.1.1.3.11.1): The track or subset with common characteristics must define at most one value of the maximum value of the braking distance [in metres] of a train and it is an integer. This error may be due to the track having more than one value or to having a value that is not an integer."@en .

# hasAdditionalBrakingInformation: # 1.1.1.3.11.2
era-sh:RunningTrackShape sh:property era-sh:HasAdditionalBrakingInformation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:HasAdditionalBrakingInformation.
era-sh:HasAdditionalBrakingInformation
	a sh:PropertyShape ; era:affectedProperty era:hasAdditionalBrakingInformation  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Availability by the IM of additional information as defined in 4.2.2.6.2 (2) Regulation XXX-OPE TSI."@en ;
	era:rinfIndex "1.1.1.3.11.2" ;
	sh:path era:hasAdditionalBrakingInformation ;
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "hasAdditionalBrakingInformation (1.1.1.3.11.2): The track or subset with common characteristics must define at most one value of the availability by the IM of additional information and it is Y/N (boolean). This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en .

# additionalBrakingInformationDocument: # 1.1.1.3.11.3
era-sh:RunningTrackShape sh:property era-sh:AdditionalBrakingInformationDocument.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:AdditionalBrakingInformationDocument.
era-sh:AdditionalBrakingInformationDocument
	a sh:PropertyShape ; era:affectedProperty era:additionalBrakingInformationDocument  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Documents available by the IM relating to braking performance."@en ;
	era:rinfIndex "1.1.1.3.11.3" ;
	sh:path era:additionalBrakingInformationDocument ;		
    sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "additionalBrakingInformationDocument (1.1.1.3.11.3): The track or subset with common characteristics defines the documents available by the IM relating to braking performance value and it must be a Document."@en .


# tiltingSupported: # 1.1.1.3.12.1
era-sh:RunningTrackShape sh:property era-sh:TiltingSupported.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TiltingSupported.
era-sh:TiltingSupported
	a sh:PropertyShape ; era:affectedProperty era:tiltingSupported  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication whether tilting functions are supported by the track."@en ;
	era:rinfIndex "1.1.1.3.12.1" ;
	sh:path era:tiltingSupported ;
	
	sh:maxCount 1 ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "tiltingSupported (1.1.1.3.12.1): The track or subset with common characteristics must define at most one value of the indication whether tilting functions are supported by the track and it is Y/N (boolean).This error may be due to the track having more than one value or to having a value that is not Y/N (boolean)."@en .



# currentLimitationRequired: # 1.1.1.2.5.1
era-sh:RunningTrackShape sh:property era-sh:CurrentLimitationRequired.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:CurrentLimitationRequired.
era-sh:CurrentLimitationRequired
	a sh:PropertyShape ; 
    era:affectedProperty era:currentLimitationRequired;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of whether an on board current or power limitation function on vehicles is required."@en ;
	era:rinfIndex "1.1.1.2.5.1" ;
	sh:path era:currentLimitationRequired ;
	sh:datatype xsd:boolean ;
	sh:severity sh:Violation ;
	sh:message "currentLimitationRequired (1.1.1.2.5.1): The track or subset with common characteristics may have a current limitation required value that is a boolean. This error may be due to the track having a value that is not a boolean."@en .

# documentRestrictionPositionContactLineSeparation: # 1.1.1.2.5.5
era-sh:RunningTrackShape sh:property era-sh:DocumentRestrictionPositionContactLineSeparation.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:DocumentRestrictionPositionContactLineSeparation.
era-sh:DocumentRestrictionPositionContactLineSeparation
	a sh:PropertyShape ; 
    era:affectedProperty era:documentRestrictionPositionContactLineSeparation;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
	rdfs:comment "Document with restriction related to the position of Multiple Traction unit(s) to comply with contact line separation."@en ;
	era:rinfIndex "1.1.1.2.5.5" ;
	sh:path era:documentRestrictionPositionContactLineSeparation ;
	sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "documentRestrictionPositionContactLineSeparation (1.1.1.2.5.5): The track or subset with common characteristics may have a Document with restriction related to the position of Multiple Traction unit(s) to comply with contact line separation value that is a Document. This error may be due to the track having a value that is not a Document."@en .

# documentRestrictionPowerConsumption: # 1.1.1.2.5.4
era-sh:RunningTrackShape sh:property era-sh:DocumentRestrictionPowerConsumption.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:DocumentRestrictionPowerConsumption.
era-sh:DocumentRestrictionPowerConsumption
	a sh:PropertyShape ; 
    era:affectedProperty era:documentRestrictionPowerConsumption;
    era:affectedClass  era:RunningTrack;
    era:scope "local";
	rdfs:comment "Document with restriction related to power consumption of specific electric traction unit(s)."@en ;
	era:rinfIndex "1.1.1.2.5.4" ;
	sh:path era:documentRestrictionPowerConsumption ;
	sh:class era:Document;
	sh:severity sh:Violation ;
	sh:message "documentRestrictionPowerConsumption (1.1.1.2.5.4): The track or subset with common characteristics may have a Document with restriction related to power consumption of specific electric traction unit(s) value that is a Document. This error may be due to the track having a value that is not a Document."@en .
			 
###########################################
# Rules for LinesideDistanceIndication
###########################################

# linesideDistanceIndication 1.1.1.0.0.3
era-sh:RunningTrackShape sh:property era-sh:LinesideDistanceIndication.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:LinesideDistanceIndication.
era-sh:LinesideDistanceIndication
	a sh:PropertyShape ; era:affectedProperty era:linesideDistanceIndication  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
	sh:path era:linesideDistanceIndication;
    sh:class era:LinesideDistanceIndication;
    # sh:node era-sh:LinesideDistanceIndicationShape; not implemented in the shacl engine
    #sh:minCount 1; Not mandatory for subset with common characteristics
    sh:maxCount 1;
    era:rinfIndex "1.1.1.0.0.3";
	sh:nodeKind sh:IRI;
	sh:severity sh:Violation ;
	sh:message "linesideDistanceIndication (1.1.1.0.0.3) : The track must have exactly one value of a lineside distance indication that must be an instance of LinesideDistanceIndication. This error may be due to the track having no value, having more than one value or having a value that is not an instance of the class LinesideDistanceIndication."@en .


			 
# linesideDistanceIndicationPositioning: 
era-sh:LinesideDistanceIndicationShape sh:property era-sh:LinesideDistanceIndicationPositioning.
era-sh:LinesideDistanceIndicationPositioning
	a sh:PropertyShape ; era:affectedProperty era:linesideDistanceIndicationPositioning  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of the side along the track where the lineside indication is positioned (left or right)."@en ;
	sh:path era:linesideDistanceIndicationPositioning ;
    sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:nodeKind sh:IRI;
	sh:severity sh:Violation ;
	sh:message "LinesideDistanceIndicationPositioning: The track must have at most one value of the lineside distance indication positioning. This error may be due to the track having no value, more than one value or to having a value that is not an IRI."@en .

# linesideDistanceIndicationPositioning: 
era-sh:RunningTrackShape sh:sparql era-sh:LinesideDistanceIndicationPositioningSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:LinesideDistanceIndicationPositioningSKOS.
era-sh:LinesideDistanceIndicationPositioningSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:linesideDistanceIndicationPositioning  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
   rdfs:comment "Indication of the side along the track where the lineside indication is positioned (left or right)."@en ;
	sh:severity sh:Violation ;
    sh:message "Indication of the linesideDistanceIndicationPositioning: The track or subset with common characteristics  {$this} has a LinesideDistanceIndication {?linesideDistanceIndication}  with a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/lineside-distance-indication-positioning/LinesideDistanceIndicationPositioning."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?linesideDistanceIndication  ?concept
    WHERE {
        $this era:linesideDistanceIndication ?linesideDistanceIndication .
        ?linesideDistanceIndication era:linesideDistanceIndicationPositioning ?concept .
        era:linesideDistanceIndicationPositioning era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# linesideDistanceIndicationAppearance: 
era-sh:LinesideDistanceIndicationShape sh:property era-sh:LinesideDistanceIndicationAppearance.
era-sh:LinesideDistanceIndicationAppearance
	a sh:PropertyShape ; era:affectedProperty era:linesideDistanceIndicationAppearance  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
	sh:path era:linesideDistanceIndicationAppearance ;
    sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:nodeKind sh:IRI;
	sh:severity sh:Violation ;
	sh:message "linesideDistanceIndicationAppearance: The track must have at most one value of the lineside distance indication appearance. This error may be due to the track having no value, more than one value or to having a value that is not an IRI."@en .

# linesideDistanceIndicationAppearance: 
era-sh:RunningTrackShape sh:sparql era-sh:LinesideDistanceIndicationAppearanceSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:LinesideDistanceIndicationAppearanceSKOS.
era-sh:LinesideDistanceIndicationAppearanceSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:linesideDistanceIndicationAppearance  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
   rdfs:comment "Indication of types of appearance of track lineside distance indications."@en ;
	sh:severity sh:Violation ;
    sh:message "Indication of the linesideDistanceIndicationAppearance: The track or subset with common characteristics {$this} has a LinesideDistanceIndication {?linesideDistanceIndication} that has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/lineside-distance-indication-appearance/LinesideDistanceIndicationAppearance."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this ?linesideDistanceIndication ?concept
    WHERE {
        $this era:linesideDistanceIndication ?linesideDistanceIndication .
        ?linesideDistanceIndication era:linesideDistanceIndicationAppearance ?concept .
        era:linesideDistanceIndicationAppearance era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# linesideDistanceIndicationFrequency: 
era-sh:LinesideDistanceIndicationShape sh:property era-sh:LinesideDistanceIndicationFrequency.
era-sh:LinesideDistanceIndicationFrequency
	a sh:PropertyShape ; era:affectedProperty era:linesideDistanceIndicationFrequency  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Frequency of track lineside distance indications.."@en ;
	sh:path era:linesideDistanceIndicationFrequency ;
    sh:minCount 1 ;
	sh:maxCount 1 ;
	sh:datatype xsd:integer;
	sh:severity sh:Violation ;
	sh:message "linesideDistanceIndicationFrequency: The track must have at most one value of the lineside distance indication frequency. This error may be due to the track having a LineDistanceIndication with no value, more than one value or to having a value that is not an integer."@en .







# 1.1.1.1.7.7	hotAxleBoxDetectorGeneration applicability
era-sh:RunningTrackShape sh:sparql era-sh:HotAxleBoxDetectorGenerationApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:HotAxleBoxDetectorGenerationApplicability.
era-sh:HotAxleBoxDetectorGenerationApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hotAxleBoxDetectorGeneration;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Specific for the French Italian and Swedish networks. Generation of trackside hot axle box detector. “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
	era:rinfIndex "1.1.1.1.7.7" ;
	sh:severity sh:Violation ;
    sh:message "hotAxleBoxDetectorGeneration (1.1.1.1.7.7): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorGeneration ?value} . 
            }
			""" .

# 1.1.1.1.7.9	hotAxleBoxDetectorDirection applicability
era-sh:RunningTrackShape sh:sparql era-sh:HotAxleBoxDetectorDirectionApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:HotAxleBoxDetectorDirectionApplicability.
era-sh:HotAxleBoxDetectorDirectionApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hotAxleBoxDetectorDirection;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Specific for the French Italian and Swedish networks. If the direction of measurement is: - the same as the direction defined by the start and end of the SoL: (N); - the opposite to the direction defined by the start and end of the SoL: (O); - both directions: (B). “Y” if the answer to parameter 1.1.1.1.7.5 is “N”."@en ;
	era:rinfIndex "1.1.1.1.7.9" ;
	sh:severity sh:Violation ;
    sh:message "hotAxleBoxDetectorDirection (1.1.1.1.7.9): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorDirection ?value} . 
            }
			""" .

# 1.1.1.1.7.6	hotAxleBoxDetectorIdentification applicability
era-sh:RunningTrackShape sh:sparql era-sh:HotAxleBoxDetectorIdentificationApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:HotAxleBoxDetectorIdentificationApplicability.
era-sh:HotAxleBoxDetectorIdentificationApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hotAxleBoxDetectorIdentification;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Specific for the French Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant, identification of trackside hot axle box detector.@en";
	era:rinfIndex "1.1.1.1.7.6" ;
	sh:severity sh:Violation ;
    sh:message "hotAxleBoxDetectorIdentification (1.1.1.1.7.6): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorIdentification ?value} . 
            }
			""" .

# 1.1.1.1.7.8	hotAxleBoxDetectorLocation applicability
era-sh:RunningTrackShape sh:sparql era-sh:HotAxleBoxDetectorLocationApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:HotAxleBoxDetectorLocationApplicability.
era-sh:HotAxleBoxDetectorLocationApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hotAxleBoxDetectorLocation;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Specific for the French Italian and Swedish networks. Applicable if trackside HABD is not TSI compliant, localisation of trackside hot axle box detector."@en;
	era:rinfIndex "1.1.1.1.7.8" ;
	sh:severity sh:Violation ;
    sh:message "hotAxleBoxDetectorLocation (1.1.1.1.7.8): This error is due to the track or subset with common characteristics {?trackLabel}, violating the rule: “Y” if the answer to parameter 1.1.1.1.7.5 is “N”"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hotAxleBoxDetectorTSICompliant "0"^^xsd:boolean .				
                FILTER NOT EXISTS {$this era:hotAxleBoxDetectorLocation ?value} . 
            }
			""" .

# 1.1.1.1.7.3	accelerationLevelCrossing applicability
era-sh:RunningTrackShape sh:sparql era-sh:AccelerationLevelCrossingApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:AccelerationLevelCrossingApplicability.
era-sh:AccelerationLevelCrossingApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:accelerationLevelCrossing;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Existence of limit for acceleration of train if stopping or recovering speed close to a level crossing expressed in a specific reference acceleration curve."@en;
	era:rinfIndex "1.1.1.1.7.3" ;
	sh:severity sh:Violation ;
    sh:message "accelerationLevelCrossing (1.1.1.1.7.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Applicable only when selected value of parameter 1.1.1.1.7.2 is ‘Y’"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                FILTER EXISTS {$this era:hasLevelCrossings ?value} .  			
                FILTER NOT EXISTS {$this era:accelerationLevelCrossing ?value} . 
            }
			""" .

# 1.1.1.2.4.1.2	trackPhaseInfo applicability
era-sh:RunningTrackShape sh:sparql era-sh:TrackPhaseInfoApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:TrackPhaseInfoApplicability.
era-sh:TrackPhaseInfoApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:trackPhaseInfo;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Relates the Track with PhaseInfo. Indication of required several information on phase separation."@en;
	era:rinfIndex "1.1.1.2.4.1.2" ;
	sh:severity sh:Violation ;
    sh:message "trackPhaseInfo (1.1.1.2.4.1.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Applicable when in parameter 1.1.1.2.4.1.1 selected option is ‘Y’"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hasPhaseSeparation "1"^^xsd:boolean .			
                FILTER NOT EXISTS {$this era:trackPhaseInfo ?value} . 
            }
			""" .



# 1.1.1.2.4.2.2	trackSystemSeparationInfo applicability
era-sh:RunningTrackShape sh:sparql era-sh:TrackSystemSeparationInfoApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:TrackSystemSeparationInfoApplicability.
era-sh:TrackSystemSeparationInfoApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:trackSystemSeparationInfo;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Relates the Track with the SystemSeparationInfo. Indication of required several information on system separation."@en;
	era:rinfIndex "1.1.1.2.4.2.2" ;
	sh:severity sh:Violation ;
    sh:message "trackSystemSeparationInfo (1.1.1.2.4.2.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Applicable when in parameter 1.1.1.2.4.2.1 selected option is ‘Y’"@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hasSystemSeparation "1"^^xsd:boolean .			
                FILTER NOT EXISTS {$this era:trackSystemSeparationInfo ?value} . 
            }
			""" .
   
# 1.1.1.2.3.1	tsiPantographHead applicability
era-sh:RunningTrackShape sh:sparql era-sh:TsiPantographHeadApplicability .
era-sh:CommonCharacteristicsSubsetShape  sh:sparql era-sh:TsiPantographHeadApplicability.
era-sh:TsiPantographHeadApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:tsiPantographHead;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of TSI compliant pantograph heads which are allowed to be used."@en;
	era:rinfIndex "1.1.1.2.3.1" ;
	sh:severity sh:Violation ;
    sh:message "tsiPantographHead (1.1.1.2.3.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this  ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) 	
                FILTER EXISTS {$this era:tsiPantographHead ?value} . 
            }
			""" .


# 1.1.1.2.3.3	trackRaisedPantographsDistanceAndSpeed applicability
era-sh:RunningTrackShape sh:sparql era-sh:TrackRaisedPantographDistanceAndSpeedApplicability .
era-sh:CommonCharacteristicsSubsetShape  sh:sparql era-sh:TrackRaisedPantographDistanceAndSpeedApplicability.
era-sh:TrackRaisedPantographDistanceAndSpeedApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:trackRaisedPantographsDistanceAndSpeed;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Relates the track with the class RaisedPantographsDistanceAndSpeed. Indication of maximum number of raised pantographs per train allowed and minimum spacing centre line to centre line of adjacent pantograph heads, expressed in metres, at the given speed."@en;
	era:rinfIndex "1.1.1.2.3.3" ;
	sh:severity sh:Violation ;
    sh:message "trackRaisedPantographsDistanceAndSpeed (1.1.1.2.3.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .	
                FILTER EXISTS {$this era:trackRaisedPantographsDistanceAndSpeed ?value} . 
            }
			""" .

# 1.1.1.2.4.1.1	hasPhaseSeparation applicability
era-sh:RunningTrackShape sh:sparql era-sh:HasPhaseSeparationApplicability .
era-sh:CommonCharacteristicsSubsetShape  sh:sparql era-sh:HasPhaseSeparationApplicability.
era-sh:HasPhaseSeparationApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hasPhaseSeparation;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of existence of phase separation and required information."@en;
	era:rinfIndex "1.1.1.2.4.1.1" ;
	sh:severity sh:Violation ;
    sh:message "hasPhaseSeparation (1.1.1.2.4.1.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:hasPhaseSeparation ?value} . 
            }
			""" .

# 1.1.1.2.3.4	contactStripMaterial applicability
era-sh:RunningTrackShape sh:sparql era-sh:ContactStripMaterialApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ContactStripMaterialApplicability.
era-sh:ContactStripMaterialApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:contactStripMaterial;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of which contact strip materials are permitted to be used."@en;
	era:rinfIndex "1.1.1.2.3.4" ;
	sh:severity sh:Violation ;
    sh:message "contactStripMaterial (1.1.1.2.3.4): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:contactStripMaterial ?value} . 
            }
			""" .

# 1.1.1.2.3.2	otherPantographHead applicability
era-sh:RunningTrackShape sh:sparql era-sh:OtherPantographHeadApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql  era-sh:OtherPantographHeadApplicability.
era-sh:OtherPantographHeadApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:otherPantographHead;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of pantograph heads which are allowed to be used."@en;
	era:rinfIndex "1.1.1.2.3.2" ;
	sh:severity sh:Violation ;
    sh:message "otherPantographHead (1.1.1.2.3.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?cls ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:otherPantographHead ?value} . 
            }
			""" .

# 1.1.1.2.4.2.1	hasSystemSeparation applicability
era-sh:RunningTrackShape sh:sparql era-sh:HasSystemSeparationApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:HasSystemSeparationApplicability.
era-sh:HasSystemSeparationApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hasSystemSeparation;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of existence of system separation."@en;
	era:rinfIndex "1.1.1.2.4.2.1" ;
	sh:severity sh:Violation ;
    sh:message "hasSystemSeparation (1.1.1.2.4.2.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .		
                FILTER EXISTS {$this era:hasSystemSeparation ?value} . 
            }
			""" .

# 1.1.1.2.5.2	permittedContactForce applicability
era-sh:RunningTrackShape sh:sparql era-sh:PermittedContactForceApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:PermittedContactForceApplicability.
era-sh:PermittedContactForceApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:permittedContactForce;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of contact force allowed expressed in newton."@en;
	era:rinfIndex "1.1.1.2.5.2" ;
	sh:severity sh:Violation ;
    sh:message "permittedContactForce (1.1.1.2.5.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .		
                FILTER EXISTS {$this era:permittedContactForce ?value} . 
            }
			""" .

# 1.1.1.2.5.3	automaticDroppingDeviceRequired applicability
era-sh:RunningTrackShape sh:sparql era-sh:AutomaticDroppingDeviceRequiredApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:AutomaticDroppingDeviceRequiredApplicability.
era-sh:AutomaticDroppingDeviceRequiredApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:automaticDroppingDeviceRequired;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of whether an automatic dropping device (ADD) required on the vehicle."@en;
	era:rinfIndex "1.1.1.2.5.3" ;
	sh:severity sh:Violation ;
    sh:message "automaticDroppingDeviceRequired (1.1.1.2.5.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: This parameter is applicable ('Y') only if “Overhead contact line (OCL)” is selected for 1.1.1.2.2.1.1."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  != <http://data.europa.eu/949/concepts/contact-line-systems/10>) .			
                FILTER EXISTS {$this era:automaticDroppingDeviceRequired ?value} . 
            }
			""" .

# 1.1.1.2.5.1	currentLimitationRequired applicability
era-sh:RunningTrackShape sh:sparql era-sh:CurrentLimitationRequiredApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:CurrentLimitationRequiredApplicability.
era-sh:CurrentLimitationRequiredApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:currentLimitationRequired;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of whether an on board current or power limitation function on vehicles is required."@en;
	era:rinfIndex "1.1.1.2.5.1" ;
	sh:severity sh:Violation ;
    sh:message "currentLimitationRequired (1.1.1.2.5.1): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: When 'not electrified' is chosen in parameter 1.1.1.2.2.1.1, then this parameter is not applicable selection ‘N’."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:contactLineSystem ?cls .
                ?cls era:contactLineSystemType ?clsType .
                FILTER (?clsType  = <http://data.europa.eu/949/concepts/contact-line-systems/40>) .			
                FILTER EXISTS {$this era:currentLimitationRequired ?value} . 
            }
			""" .

# 1.1.1.1.4.4	hasBallast aaplicability
era-sh:RunningTrackShape sh:sparql era-sh:HasBallastApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql  era-sh:HasBallastApplicability.
era-sh:HasBallastApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:hasBallast;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Specifies whether track construction is with sleepers embedded in ballast or not."@en;
	era:rinfIndex "1.1.1.1.4.4" ;
	sh:severity sh:Violation ;
    sh:message "hasBallast (1.1.1.1.4.4): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y for tracks with permitted speed (parameter 1.1.1.1.2.5) greater than 250km/h."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:maximumPermittedSpeed ?mps .
                FILTER (?mps > 250) .			
                FILTER NOT EXISTS {$this era:hasBallast ?value} . 
            }
			""" .

# 1.1.1.1.6.5	magneticBrakingConditionsDocument applicability
era-sh:RunningTrackShape sh:sparql era-sh:MagneticBrakingConditionsDocumentApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:MagneticBrakingConditionsDocumentApplicability.
era-sh:MagneticBrakingConditionsDocumentApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:magneticBrakingConditionsDocument;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of magnetic brakes identified in 1.1.1.1.6.3."@en;
	era:rinfIndex "1.1.1.1.6.5" ;
	sh:severity sh:Violation ;
    sh:message "magneticBrakingConditionsDocument (1.1.1.1.6.5): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y if the answer to 1.1.1.1.6.3 / Use of magnetic brakes is “allowed under conditions” or “allowed under conditions only for emergency brake”."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:magneticBraking ?mb .
                FILTER (?mb = <http://data.europa.eu/949/concepts/magnetic-braking/20> || ?mb = <http://data.europa.eu/949/concepts/magnetic-braking/30> ) .		
                FILTER NOT EXISTS {$this era:magneticBrakingConditionsDocument ?value} . 
            }
			""" .

# 1.1.1.1.2.1.2	tenGISId applicability
era-sh:RunningTrackShape sh:sparql era-sh:TenGISIdApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:TenGISIdApplicability.
era-sh:TenGISIdApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:tenGISId;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication of the GIS identity (GIS ID) of the section of TEN-T database to which the track belongs."@en;
	era:rinfIndex "1.1.1.1.2.1.2" ;
	sh:severity sh:Violation ;
    sh:message "tenGISId (1.1.1.1.2.1.2): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y if the answer to parameter 1.1.1.1.2.1 is not off TEN."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:tenClassification ?tc .
                FILTER (?tc != <http://data.europa.eu/949/concepts/ten-classifications/40>) .		
                FILTER NOT EXISTS {$this era:tenGISId ?value} . 
            }
			""" .

# 1.1.1.3.11.3	additionalBrakingInformationDocument applicability
era-sh:RunningTrackShape sh:sparql era-sh:AdditionalBrakingInformationDocumentApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:AdditionalBrakingInformationDocumentApplicability.
era-sh:AdditionalBrakingInformationDocumentApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:additionalBrakingInformationDocument;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency providing additional information as defined in point (2) of point 4.2.2.6.2 of TSI OPE."@en;
	era:rinfIndex "1.1.1.3.11.3" ;
	sh:severity sh:Violation ;
    sh:message "additionalBrakingInformationDocument (1.1.1.3.11.3): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y in case of Y for 1.1.1.3.11.2."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:hasAdditionalBrakingInformation "1"^^xsd:boolean .		
                FILTER NOT EXISTS {$this era:additionalBrakingInformationDocument ?value} . 
            }
			""" .

# 1.1.1.1.6.4	eddyCurrentBrakingConditionsDocument applicability
era-sh:RunningTrackShape sh:sparql era-sh:EddyCurrentBrakingConditionsDocumentApplicability .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:EddyCurrentBrakingConditionsDocumentApplicability.
era-sh:EddyCurrentBrakingConditionsDocumentApplicability
	a sh:SPARQLConstraint ;
    era:affectedProperty era:eddyCurrentBrakingConditionsDocument;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Electronic document available in two EU languages from the IM stored by the Agency with conditions for the use of eddy current brakes identified in 1.1.1.1.6.2."@en;
	era:rinfIndex "1.1.1.1.6.4" ;
	sh:severity sh:Violation ;
    sh:message "eddyCurrentBrakingConditionsDocument (1.1.1.1.6.4): This error is due to the track or subset with common characteristics {?trackLabel} , violating the rule: Y in case of Y for 1.1.1.1.6.2 Use of eddy current brakes is “allowed under conditions” or “allowed under conditions only for emergency brake””."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>
    SELECT DISTINCT $this ?trackLabel
			WHERE {
                
                $this rdfs:label ?trackLabel .
                ?track era:eddyCurrentBraking ?ecb .
                FILTER (?ecb = <http://data.europa.eu/949/concepts/magnetic-braking/20> || ?ecb = <http://data.europa.eu/949/concepts/magnetic-braking/40> ) .		
                FILTER NOT EXISTS {$this era:eddyCurrentBrakingConditionsDocument ?value} . 
            }
			""" .




# conditionalRegenerativeBrake: # 1.1.1.2.2.4
era-sh:RunningTrackShape sh:property era-sh:ConditionalRegenerativeBrake .
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:ConditionalRegenerativeBrake .
era-sh:ConditionalRegenerativeBrake
	a sh:PropertyShape ;
    era:affectedProperty era:conditionalRegenerativeBrake;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Indication whether regenerative braking is permitted, not permitted, or permitted under specific conditions."@en ;
	era:rinfIndex "1.1.1.2.2.4" ;
	sh:path era:conditionalRegenerativeBrake ;
	sh:nodeKind sh:IRI ;
    sh:maxCount 1 ;
	sh:severity sh:Violation ;
	sh:message "conditionalRegenerativeBrake (1.1.1.2.2.4): The track or subset with common characteristics defines if the regenerative brake is permitted. This error is due to having more than one value for this property or having a value that is not  an IRI."@en .

# conditionalRegenerativeBrake: # 1.1.1.2.2.4
era-sh:RunningTrackShape sh:sparql era-sh:ConditionalRegenerativeBrakeSKOS .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ConditionalRegenerativeBrakeSKOS .
era-sh:ConditionalRegenerativeBrakeSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:conditionalRegenerativeBrake;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
    rdfs:comment "Indication whether regenerative braking is permitted, not permitted, or permitted under specific conditions. "@en ;
	era:rinfIndex ".1.1.2.2.4" ;
	sh:severity sh:Violation ;
    sh:message "conditionalRegenerativeBrake (1.1.1.2.2.4):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/regenerative-braking/RegenerativeBraking."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:conditionalRegenerativeBrake ?concept .
        era:conditionalRegenerativeBrake era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# conditionsUseReflectivePlates: # 1.1.1.1.7.12.1
era-sh:RunningTrackShape sh:property era-sh:ConditionsUseReflectivePlates.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:ConditionsUseReflectivePlates.
era-sh:ConditionsUseReflectivePlates
	a sh:PropertyShape ; era:affectedProperty era:conditionsUseReflectivePlates  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Details of any conditions for using the reflective plates on freight corridors. Specific case for Portugal and Spain until 1.1.2025 and Belgium and France until 1.1.2026."@en ;
	era:rinfIndex "1.1.1.1.7.12.1" ;
	sh:path era:conditionsUseReflectivePlates;
	sh:nodeKind sh:IRI;
	sh:severity sh:Violation ;
	sh:message "conditionsUseReflectivePlates (1.1.1.1.7.12.1): The track or subset with common characteristics may have a value of the conditions for use of reflective plates. This error may be due to the track having a value that is not an IRI."@en .



# conditionsUseReflectivePlates: # 1.1.1.1.7.12.1
era-sh:RunningTrackShape sh:sparql era-sh:ConditionsUseReflectivePlatesSKOS.
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:ConditionsUseReflectivePlatesSKOS.
era-sh:ConditionsUseReflectivePlatesSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:conditionsUseReflectivePlates  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
   rdfs:comment "Details of any conditions for using the reflective plates on freight corridors. Specific case for Portugal and Spain until 1.1.2025 and Belgium and France until 1.1.2026."@en ;
	era:rinfIndex "1.1.1.1.7.12.1" ;
	sh:severity sh:Violation ;
    sh:message "Indication of the conditionsUseReflectivePlates (1.1.1.1.7.12.1): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list:  http://data.europa.eu/949/concepts/conditions-use-reflective-plates/ConditionsUseReflectivePlates."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:conditionsUseReflectivePlates ?concept .
        era:conditionsUseReflectivePlates era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# etcs 1.1.1.3.2: 
era-sh:RunningTrackShape sh:property era-sh:Etcs.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:Etcs.
era-sh:Etcs
	a sh:PropertyShape ; era:affectedProperty era:etcs  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "European Train Control System (ETCS) application level supported by the track side equipment."@en ;
	sh:path era:etcs;
    sh:class era:ETCS;
    sh:maxCount 1;
    era:rinfIndex "1.1.1.3.2";
	sh:nodeKind sh:IRI;
	sh:severity sh:Violation ;
	sh:message "etcs (1.1.1.3.2) : The track or subset with common characteristics may have at most one value of a European Train Control System (ETCS) that must be an instance of ETCS. This error may be due to the track having more than one value or a value that is not an instance of the class ETCS."@en .



# standardCombinedTransportContainers: # 1.1.1.1.3.8
era-sh:RunningTrackShape sh:property era-sh:StandardCombinedTransportContainers .
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:StandardCombinedTransportContainers .
era-sh:StandardCombinedTransportContainers
	a sh:PropertyShape ;
    era:affectedProperty era:standardCombinedTransportContainers;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Coding for combined transport for containers (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
	era:rinfIndex "1.1.1.1.3.8" ;
	sh:path era:standardCombinedTransportContainers ;
	sh:nodeKind sh:IRI ;
	sh:severity sh:Violation ;
	sh:message "standardCombinedTransportContainers (1.1.1.1.3.8): The track defines a standard combined transport profile number for containers. This error is due to having  a value that is not  an IRI."@en .

# standardCombinedTransportContainers: # 1.1.1.1.3.8
era-sh:RunningTrackShape sh:sparql era-sh:StandardCombinedTransportContainersSKOS .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:StandardCombinedTransportContainersSKOS .
era-sh:StandardCombinedTransportContainersSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:standardCombinedTransportContainers;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
    rdfs:comment "Coding for combined transport for containers (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
	era:rinfIndex ".1.1.1.1.3.8" ;
	sh:severity sh:Violation ;
    sh:message "standardCombinedTransportContainers (1.1.1.1.3.8):): The track or subset with common characteristics  {$this} has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/standard-combined-transport-containers/StandardCombinedTransportContainers."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:standardCombinedTransportContainers ?concept .
        era:standardCombinedTransportContainers era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# standardCombinedTransportRollerUnits: # 1.1.1.1.3.9
era-sh:RunningTrackShape sh:property era-sh:StandardCombinedRollerUnits .
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:StandardCombinedRollerUnits .
era-sh:StandardCombinedRollerUnits
	a sh:PropertyShape ;
    era:affectedProperty era:standardCombinedTransportRollerUnits;
    era:affectedClass era:RunningTrack;
    era:scope "local";
	rdfs:comment "Coding for combined transport for roller units (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
	era:rinfIndex "1.1.1.1.3.9" ;
	sh:path era:standardCombinedTransportRollerUnits ;
	sh:nodeKind sh:IRI ;
	sh:severity sh:Violation ;
	sh:message "standardCombinedTransportRollerUnits (1.1.1.1.3.9): The track or subset with common characteristics defines a standard combined transport profile number for roller units. This error is due to having  or having a value that is not  an IRI."@en .

# standardCombinedTransportRollerUnits: # 1.1.1.1.3.9
era-sh:RunningTrackShape sh:sparql era-sh:StandardCombinedRollerUnitsSKOS .
era-sh:CommonCharacteristicsSubsetShape sh:sparql era-sh:StandardCombinedRollerUnitsSKOS .
era-sh:StandardCombinedRollerUnitsSKOS
	a sh:SPARQLConstraint ;
    era:affectedProperty era:standardCombinedTransportRollerUnits;
    era:affectedClass  era:RunningTrack;
    era:scope "local";  
    rdfs:comment "Coding for combined transport for roller units (for all freight and mixed-traffic lines) in accordance with the specification referenced in Appendix A-1, index [B]."@en ;
	era:rinfIndex "1.1.1.1.3.9" ;
	sh:severity sh:Violation ;
    sh:message "standardCombinedTransportRollerUnits (1.1.1.1.3.9):): The track or subset with common characteristics  {$this} in the Section of Line {$this}  has a value {?concept} that is not one of the predefined values and cannot be converted into a SKOS concept on this list: http://data.europa.eu/949/concepts/standard-combined-transport-roller-units/StandardCombinedTransportRollerUnits."@en ;
    sh:prefixes era:;
	sh:select """
    PREFIX era: <http://data.europa.eu/949/>
    PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
    PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
    SELECT $this  ?concept
    WHERE {
        $this era:standardCombinedTransportRollerUnits ?concept .
        era:standardCombinedTransportRollerUnits era:inSkosConceptScheme ?conceptScheme .
		FILTER NOT EXISTS{         
  			?concept skos:inScheme ?conceptScheme .
		}
	}
""" .

# trainDetectionSystem 1.1.1.3.4
era-sh:RunningTrackShape sh:property era-sh:TrainDetectionSystem.
era-sh:CommonCharacteristicsSubsetShape sh:property era-sh:TrainDetectionSystem.
era-sh:TrainDetectionSystem
	a sh:PropertyShape ; era:affectedProperty era:trainDetectionSystem  ;     era:affectedClass  era:RunningTrack;     era:scope "local";     
	rdfs:comment "Train detection systems installed in the section of line."@en ;
	sh:path era:trainDetectionSystem;
    sh:class era:TrainDetectionSystem;
    sh:maxCount 1;
    era:rinfIndex "1.1.1.3.4";
	sh:nodeKind sh:IRI;
	sh:severity sh:Violation ;
	sh:message "trainDetectionSystem (1.1.1.3.4) : The track or subset with common characteristics may have at most one value of a train detection system that must be an instance of TrainDetectionSystem. This error may be due to the track or subset with common characteristics having more than one value or a value that is not an instance of the class TrainDetectionSystem."@en .







